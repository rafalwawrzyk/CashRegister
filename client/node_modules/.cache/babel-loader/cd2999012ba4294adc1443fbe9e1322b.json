{"ast":null,"code":"import { GET_SHOP_DATA_FROM_DB, ShopActionsTypesAsync } from './shopActionTypes';\nimport { firestore, convertCollectionsSnapshotToMap } from '../../firebase/firebase.utils'; // export const getCollectionsDataFromDbAction = (data) => {\n//     return{\n//         type:GET_SHOP_DATA_FROM_DB,\n//         payload:data\n//     }\n// }\n\nexport const fetchCollectionsStart = () => {\n  return {\n    type: ShopActionsTypesAsync.FETCH_COLLECTIONS_START\n  };\n};\nexport const fetchCollectionsStartAsync = () => {\n  return dispatch => {\n    const collectionRef = firestore.collection('shop');\n    collectionRef.get().then(snapshot => {\n      const collectionsFromDb = convertCollectionsSnapshotToMap(snapshot);\n      setCollection(collectionsFromDb);\n      this.setState({\n        loading: false\n      });\n    });\n  };\n};\nexport const fetchCollectionSuccess = data => {\n  return {\n    type: ShopActionsTypesAsync.FETCH_COLLECTIONS_SUCCESS,\n    payload: data\n  };\n};","map":{"version":3,"sources":["/home/rafal/Desktop/ecommerce-react-advanced/unikas-dev-shop/src/redux/shop/shopActions.js"],"names":["GET_SHOP_DATA_FROM_DB","ShopActionsTypesAsync","firestore","convertCollectionsSnapshotToMap","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snapshot","collectionsFromDb","setCollection","setState","loading","fetchCollectionSuccess","data","FETCH_COLLECTIONS_SUCCESS","payload"],"mappings":"AAAA,SAAQA,qBAAR,EAA+BC,qBAA/B,QAA2D,mBAA3D;AACA,SAAQC,SAAR,EAAkBC,+BAAlB,QAAwD,+BAAxD,C,CAKA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAMC,qBAAqB,GAAG,MAAM;AACvC,SAAO;AACHC,IAAAA,IAAI,EAACJ,qBAAqB,CAACK;AADxB,GAAP;AAGH,CAJM;AAMP,OAAO,MAAMC,0BAA0B,GAAG,MAAM;AAC5C,SAAOC,QAAQ,IAAI;AACf,UAAMC,aAAa,GAAGP,SAAS,CAACQ,UAAV,CAAqB,MAArB,CAAtB;AACAD,IAAAA,aAAa,CAACE,GAAd,GAAoBC,IAApB,CAA0BC,QAAD,IAAc;AAC5C,YAAMC,iBAAiB,GAAGX,+BAA+B,CAACU,QAAD,CAAzD;AACAE,MAAAA,aAAa,CAACD,iBAAD,CAAb;AACA,WAAKE,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAC;AAAT,OAAd;AACA,KAJK;AAKH,GAPD;AAQH,CATM;AAYP,OAAO,MAAMC,sBAAsB,GAAIC,IAAD,IAAU;AAC5C,SAAO;AACHd,IAAAA,IAAI,EAACJ,qBAAqB,CAACmB,yBADxB;AAEHC,IAAAA,OAAO,EAACF;AAFL,GAAP;AAIH,CALM","sourcesContent":["import {GET_SHOP_DATA_FROM_DB, ShopActionsTypesAsync} from './shopActionTypes'\nimport {firestore,convertCollectionsSnapshotToMap} from '../../firebase/firebase.utils';\n\n\n\n\n// export const getCollectionsDataFromDbAction = (data) => {\n//     return{\n//         type:GET_SHOP_DATA_FROM_DB,\n//         payload:data\n//     }\n// }\n\n\nexport const fetchCollectionsStart = () => {\n    return {\n        type:ShopActionsTypesAsync.FETCH_COLLECTIONS_START\n    }\n}\n\nexport const fetchCollectionsStartAsync = () => {\n    return dispatch => {\n        const collectionRef = firestore.collection('shop');\n        collectionRef.get().then((snapshot) => {\n\t\t\tconst collectionsFromDb = convertCollectionsSnapshotToMap(snapshot);\n\t\t\tsetCollection(collectionsFromDb)\n\t\t\tthis.setState({loading:false})\n\t\t})\n    }\n}\n\n\nexport const fetchCollectionSuccess = (data) => {\n    return {\n        type:ShopActionsTypesAsync.FETCH_COLLECTIONS_SUCCESS,\n        payload:data\n    }\n}"]},"metadata":{},"sourceType":"module"}